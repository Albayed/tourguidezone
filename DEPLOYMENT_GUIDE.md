# دليل النشر الشامل لموقع TourGuideZone على SmarterASP.NET

## المحتويات

1. [مقدمة](#مقدمة)
2. [متطلبات النظام](#متطلبات-النظام)
3. [إعداد الحساب على SmarterASP.NET](#إعداد-الحساب)
4. [رفع الملفات](#رفع-الملفات)
5. [إعداد قاعدة البيانات](#إعداد-قاعدة-البيانات)
6. [تكوين المتغيرات](#تكوين-المتغيرات)
7. [اختبار الموقع](#اختبار-الموقع)
8. [ربط النطاق](#ربط-النطاق)
9. [الصيانة والتحديث](#الصيانة-والتحديث)
10. [استكشاف الأخطاء](#استكشاف-الأخطاء)

---

## مقدمة

مرحباً بك في دليل النشر الشامل لموقع TourGuideZone! هذا الدليل سيأخذك خطوة بخطوة من البداية حتى النهاية لنشر موقعك بنجاح على خدمة SmarterASP.NET.

### ما ستحصل عليه بعد اتباع هذا الدليل:

- موقع TourGuideZone يعمل بكامل وظائفه على الإنترنت
- نطاق مخصص مربوط بالموقع
- قاعدة بيانات تعمل بشكل صحيح
- نظام إدارة كامل
- منتدى تفاعلي للمسافرين
- نظام بحث متقدم للمرشدين السياحيين

### الوقت المطلوب:
- **الإعداد الأولي**: 30-45 دقيقة
- **رفع الملفات**: 15-20 دقيقة  
- **الاختبار والتحقق**: 20-30 دقيقة
- **ربط النطاق**: 10-15 دقيقة
- **المجموع**: حوالي 90 دقيقة

---



## متطلبات النظام

### متطلبات الخادم (SmarterASP.NET):

| المتطلب | الحد الأدنى | الموصى به |
|---------|-------------|------------|
| **Python** | 3.8+ | 3.11+ |
| **مساحة التخزين** | 500 MB | 1 GB |
| **الذاكرة** | 512 MB | 1 GB |
| **قاعدة البيانات** | SQLite | SQLite/MySQL |
| **SSL** | مطلوب | مطلوب |

### الملفات المطلوبة في الحزمة:

✅ **ملفات التطبيق الأساسية:**
- `main.py` - الملف الرئيسي للتطبيق
- `app.py` - نقطة دخول الإنتاج
- `config.py` - إعدادات التطبيق
- `requirements.txt` - التبعيات المطلوبة
- `Procfile` - إعدادات النشر

✅ **مجلدات النماذج والطرق:**
- `models/` - نماذج قاعدة البيانات
- `routes/` - طرق التطبيق
- `templates/` - قوالب HTML
- `static/` - الملفات الثابتة (CSS, JS, الصور)

✅ **ملفات التوثيق:**
- `README.md` - دليل المطور
- `DEPLOYMENT_GUIDE.md` - هذا الدليل
- `.gitignore` - ملفات مستبعدة من Git

### حساب SmarterASP.NET:

قبل البدء، تأكد من أن لديك:

1. **حساب نشط** على SmarterASP.NET
2. **خطة تدعم Python** (Shared Hosting أو أعلى)
3. **إمكانية الوصول لـ Control Panel**
4. **بيانات FTP** (اسم المستخدم وكلمة المرور)

> **ملاحظة مهمة**: إذا لم يكن لديك حساب بعد، يمكنك التسجيل على [SmarterASP.NET](https://www.smarterasp.net) واختيار الخطة المناسبة.

---

## إعداد الحساب على SmarterASP.NET

### الخطوة 1: تسجيل الدخول إلى Control Panel

1. اذهب إلى [Control Panel](https://cp.smarterasp.net)
2. أدخل بيانات تسجيل الدخول الخاصة بك
3. ستصل إلى لوحة التحكم الرئيسية

### الخطوة 2: التحقق من دعم Python

1. في لوحة التحكم، ابحث عن قسم **"Programming Languages"**
2. تأكد من وجود **Python 3.x** في القائمة
3. إذا لم تجده، تواصل مع الدعم الفني لتفعيله

### الخطوة 3: إعداد قاعدة البيانات (اختياري)

إذا كنت تريد استخدام MySQL بدلاً من SQLite:

1. اذهب إلى قسم **"Databases"**
2. انقر على **"MySQL Databases"**
3. أنشئ قاعدة بيانات جديدة:
   - **اسم قاعدة البيانات**: `tourguidezone_db`
   - **اسم المستخدم**: `tourguidezone_user`
   - **كلمة المرور**: اختر كلمة مرور قوية
4. احفظ بيانات الاتصال لاستخدامها لاحقاً

### الخطوة 4: الحصول على بيانات FTP

1. في لوحة التحكم، اذهب إلى قسم **"FTP Accounts"**
2. ستجد بيانات FTP الرئيسية:
   - **FTP Server**: عادة `ftp.yourdomain.com`
   - **Username**: اسم المستخدم الخاص بك
   - **Password**: كلمة المرور الخاصة بك
   - **Port**: 21 (عادة)
3. احفظ هذه البيانات لاستخدامها في رفع الملفات

---

## رفع الملفات

### الطريقة الأولى: استخدام FTP Client (موصى بها)

#### تحميل وإعداد FileZilla:

1. حمل [FileZilla Client](https://filezilla-project.org/download.php?type=client)
2. قم بتثبيته على جهازك
3. افتح FileZilla وأدخل بيانات FTP:
   - **Host**: ftp.yourdomain.com
   - **Username**: اسم المستخدم
   - **Password**: كلمة المرور
   - **Port**: 21
4. انقر **"Quickconnect"**

#### رفع ملفات TourGuideZone:

1. في الجانب الأيمن (الخادم)، انتقل إلى مجلد `wwwroot`
2. في الجانب الأيسر (جهازك)، انتقل إلى مجلد `TourGuideZone_Production`
3. حدد جميع الملفات والمجلدات في `TourGuideZone_Production`
4. اسحبها إلى مجلد `wwwroot` على الخادم
5. انتظر حتى اكتمال الرفع (قد يستغرق 5-10 دقائق)

### الطريقة الثانية: استخدام File Manager في Control Panel

1. في لوحة التحكم، اذهب إلى **"File Manager"**
2. انتقل إلى مجلد `wwwroot`
3. انقر **"Upload"** واختر ملف ZIP الخاص بـ TourGuideZone
4. بعد الرفع، انقر بالزر الأيمن على الملف واختر **"Extract"**
5. احذف ملف ZIP بعد الاستخراج

### التحقق من رفع الملفات:

بعد الرفع، تأكد من وجود الملفات التالية في `wwwroot`:

```
wwwroot/
├── main.py
├── app.py
├── config.py
├── requirements.txt
├── Procfile
├── models/
├── routes/
├── templates/
├── static/
└── ...
```

---

## إعداد قاعدة البيانات

### استخدام SQLite (الطريقة السهلة):

SQLite لا يحتاج إعداد إضافي، سيتم إنشاء ملف قاعدة البيانات تلقائياً عند أول تشغيل.

### استخدام MySQL (للمواقع الكبيرة):

إذا اخترت MySQL في الخطوة السابقة:

1. افتح ملف `config.py`
2. غير السطر:
   ```python
   SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or 'sqlite:///tourguidezone.db'
   ```
   إلى:
   ```python
   SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or 'mysql://username:password@localhost/database_name'
   ```
3. استبدل `username`, `password`, و `database_name` بالبيانات الفعلية

### إنشاء الجداول:

سيتم إنشاء جميع الجداول تلقائياً عند أول تشغيل للتطبيق، بما في ذلك:

- جدول المستخدمين والمرشدين
- جدول الدول والمدن (مع بيانات أولية)
- جدول الرحلات والتقييمات
- جدول المنتدى والمشاركات
- جدول طلبات التواصل

---

## تكوين المتغيرات

### إعداد متغيرات البيئة:

في لوحة التحكم، ابحث عن قسم **"Environment Variables"** أو **"Application Settings"**:

#### المتغيرات الأساسية (مطلوبة):

```bash
SECRET_KEY=your-very-secure-secret-key-here-change-this
SITE_URL=https://yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com
```

#### متغيرات البريد الإلكتروني (اختيارية):

```bash
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
```

#### متغيرات قاعدة البيانات (للـ MySQL):

```bash
DATABASE_URL=mysql://username:password@localhost/database_name
```

### إنشاء مفتاح سري قوي:

لإنشاء مفتاح سري آمن، يمكنك استخدام:

```python
import secrets
print(secrets.token_hex(32))
```

أو استخدم مولد كلمات المرور عبر الإنترنت لإنشاء مفتاح من 64 حرف.

---


## اختبار الموقع

### الخطوة 1: الوصول إلى الموقع

1. افتح متصفح الويب
2. اذهب إلى عنوان موقعك المؤقت (عادة `http://yourusername.smarterasp.net`)
3. يجب أن تظهر الصفحة الرئيسية لـ TourGuideZone

### الخطوة 2: اختبار الوظائف الأساسية

#### اختبار الصفحة الرئيسية:
- ✅ تحميل الصفحة بشكل صحيح
- ✅ ظهور الشعار والتصميم
- ✅ عمل قائمة البحث (الدول والمدن)
- ✅ عرض أقسام "لماذا تختارنا"

#### اختبار صفحة البحث:
1. انقر على "البحث عن مرشدين"
2. جرب البحث بدول مختلفة
3. تأكد من تحميل المدن عند اختيار البلد
4. جرب البحث بكلمات مفتاحية

#### اختبار المنتدى:
1. انقر على "المنتدى"
2. تأكد من ظهور الأقسام الخمسة
3. جرب التسجيل كزائر جديد
4. تأكد من عمل نموذج التسجيل

#### اختبار الصفحات الثابتة:
- ✅ صفحة "عن الموقع"
- ✅ صفحة "الأسئلة الشائعة"
- ✅ صفحة "الشروط والأحكام"
- ✅ صفحة "اتصل بنا"

### الخطوة 3: اختبار النظام الإداري

#### إنشاء حساب إداري:
1. اذهب إلى `/auth/register`
2. سجل حساب جديد
3. في قاعدة البيانات، غير دور المستخدم إلى `admin`
4. سجل دخول مرة أخرى
5. يجب أن تظهر لك لوحة الإدارة

#### اختبار لوحة الإدارة:
- ✅ الوصول إلى `/admin/dashboard`
- ✅ عرض الإحصائيات
- ✅ إدارة المرشدين
- ✅ إدارة المستخدمين
- ✅ مراجعة طلبات التواصل

### الخطوة 4: اختبار الأداء

#### سرعة التحميل:
- الصفحة الرئيسية يجب أن تحمل في أقل من 3 ثوان
- صفحات البحث في أقل من 2 ثانية
- صفحات المنتدى في أقل من 2 ثانية

#### اختبار على أجهزة مختلفة:
- 💻 **سطح المكتب**: Chrome, Firefox, Safari
- 📱 **الهاتف المحمول**: Android, iOS
- 📱 **التابلت**: iPad, Android tablets

### الخطوة 5: اختبار قاعدة البيانات

#### التحقق من البيانات الأولية:
1. تأكد من وجود 10 دول في قائمة البحث
2. تأكد من تحميل المدن عند اختيار البلد
3. تأكد من وجود أقسام المنتدى الخمسة

#### اختبار العمليات:
- ✅ إنشاء حساب جديد
- ✅ تسجيل دخول وخروج
- ✅ إرسال طلب تواصل
- ✅ التسجيل في المنتدى

---

## ربط النطاق

### الخطوة 1: شراء النطاق

#### مواقع موصى بها لشراء النطاقات:
- **Namecheap**: أسعار جيدة وخدمة ممتازة
- **GoDaddy**: الأكثر شهرة عالمياً
- **Name.com**: واجهة سهلة الاستخدام
- **Google Domains**: من جوجل مباشرة

#### اختيار النطاق المناسب:
- `tourguidezone.com` (الأفضل)
- `tourguidezone.net`
- `tourguidezone.org`
- `tour-guide-zone.com`

### الخطوة 2: إعداد DNS

بعد شراء النطاق:

1. **في موقع النطاق**:
   - اذهب إلى إعدادات DNS
   - أضف سجل A Record:
     - **Name**: @ (أو اتركه فارغ)
     - **Value**: عنوان IP الخاص بـ SmarterASP.NET
   - أضف سجل CNAME:
     - **Name**: www
     - **Value**: yourusername.smarterasp.net

2. **في SmarterASP.NET**:
   - اذهب إلى Control Panel
   - ابحث عن "Domain Management" أو "Add Domain"
   - أضف النطاق الجديد
   - انتظر التفعيل (قد يستغرق 24-48 ساعة)

### الخطوة 3: إعداد SSL

1. في لوحة تحكم SmarterASP.NET
2. اذهب إلى قسم "SSL Certificates"
3. اطلب شهادة SSL مجانية (Let's Encrypt)
4. انتظر التفعيل (عادة 10-30 دقيقة)
5. تأكد من إعادة توجيه HTTP إلى HTTPS

### الخطوة 4: تحديث إعدادات الموقع

بعد ربط النطاق:

1. حدث متغير `SITE_URL` في إعدادات البيئة:
   ```bash
   SITE_URL=https://yourdomain.com
   ```

2. حدث ملف `config.py` إذا لزم الأمر

3. أعد تشغيل التطبيق

### الخطوة 5: اختبار النطاق الجديد

- ✅ الوصول عبر `https://yourdomain.com`
- ✅ إعادة التوجيه من `http://` إلى `https://`
- ✅ عمل `www.yourdomain.com`
- ✅ ظهور شهادة SSL صحيحة

---

## الصيانة والتحديث

### النسخ الاحتياطية

#### نسخ احتياطية يومية:
1. **قاعدة البيانات**:
   - SQLite: انسخ ملف `.db`
   - MySQL: استخدم phpMyAdmin للتصدير

2. **ملفات الموقع**:
   - انسخ مجلد `wwwroot` كاملاً
   - احفظ النسخة في مكان آمن

3. **الصور المرفوعة**:
   - انسخ مجلد `static/uploads`
   - استخدم خدمة تخزين سحابية

#### أتمتة النسخ الاحتياطية:
```bash
# سكريبت بسيط للنسخ الاحتياطي
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
tar -czf backup_$DATE.tar.gz wwwroot/
```

### مراقبة الأداء

#### مؤشرات مهمة للمراقبة:
- **وقت الاستجابة**: يجب أن يكون أقل من 3 ثوان
- **استخدام الذاكرة**: مراقبة استهلاك RAM
- **مساحة التخزين**: تأكد من وجود مساحة كافية
- **عدد الزوار**: استخدم Google Analytics

#### أدوات المراقبة الموصى بها:
- **UptimeRobot**: مراقبة توفر الموقع
- **Google Analytics**: تحليل الزوار
- **Google Search Console**: أداء البحث
- **GTmetrix**: سرعة الموقع

### التحديثات الأمنية

#### تحديثات شهرية:
1. تحديث Python packages:
   ```bash
   pip install --upgrade -r requirements.txt
   ```

2. مراجعة سجلات الأخطاء
3. تحديث كلمات المرور
4. مراجعة صلاحيات المستخدمين

#### تحديثات أمنية فورية:
- تطبيق تحديثات Flask الأمنية
- تحديث شهادات SSL
- مراجعة محاولات الاختراق

---

## استكشاف الأخطاء

### المشاكل الشائعة وحلولها

#### 1. الموقع لا يعمل (Error 500)

**الأسباب المحتملة:**
- خطأ في ملف `main.py`
- مشكلة في قاعدة البيانات
- متغيرات البيئة مفقودة

**الحلول:**
1. تحقق من سجل الأخطاء في Control Panel
2. تأكد من وجود جميع الملفات المطلوبة
3. تحقق من إعدادات قاعدة البيانات
4. تأكد من صحة متغيرات البيئة

#### 2. قاعدة البيانات لا تعمل

**الأعراض:**
- خطأ "Database connection failed"
- الصفحات لا تحمل البيانات

**الحلول:**
1. تحقق من صحة connection string
2. تأكد من وجود قاعدة البيانات
3. تحقق من صلاحيات المستخدم
4. أعد إنشاء الجداول إذا لزم الأمر

#### 3. الصور لا تظهر

**الأسباب:**
- مسار الصور خاطئ
- مشكلة في صلاحيات المجلدات
- ملفات الصور مفقودة

**الحلول:**
1. تحقق من مجلد `static/`
2. تأكد من صلاحيات القراءة
3. تحقق من مسارات الصور في HTML

#### 4. المنتدى لا يعمل

**المشاكل الشائعة:**
- خطأ في نماذج المنتدى
- مشكلة في جلسات المستخدمين
- أخطاء في قاعدة البيانات

**الحلول:**
1. تحقق من جداول المنتدى
2. تأكد من إعدادات الجلسات
3. راجع كود routes/forum.py

#### 5. البحث لا يعمل

**الأعراض:**
- لا تظهر نتائج البحث
- خطأ عند اختيار البلد/المدينة

**الحلول:**
1. تحقق من بيانات الدول والمدن
2. تأكد من عمل JavaScript
3. راجع كود البحث في main.py

### الحصول على المساعدة

#### الدعم الفني لـ SmarterASP.NET:
- **البريد الإلكتروني**: support@smarterasp.net
- **التذاكر**: من خلال Control Panel
- **الهاتف**: متوفر للخطط المدفوعة

#### مجتمع المطورين:
- **Stack Overflow**: للأسئلة التقنية
- **GitHub**: للمشاكل المتعلقة بالكود
- **Reddit**: r/webdev, r/flask

#### الموارد المفيدة:
- [Flask Documentation](https://flask.palletsprojects.com/)
- [SQLAlchemy Documentation](https://docs.sqlalchemy.org/)
- [Bootstrap Documentation](https://getbootstrap.com/docs/)

---

## الخلاصة

تهانينا! إذا وصلت إلى هنا واتبعت جميع الخطوات، فإن موقع TourGuideZone الخاص بك يجب أن يكون:

✅ **يعمل بكامل وظائفه** على الإنترنت
✅ **مربوط بنطاق مخصص** مع شهادة SSL
✅ **قاعدة بيانات تعمل** مع جميع البيانات الأولية
✅ **منتدى تفاعلي** للمسافرين
✅ **نظام بحث متقدم** للمرشدين
✅ **لوحة إدارة كاملة** لإدارة الموقع

### الخطوات التالية:

1. **ابدأ في إضافة المحتوى**:
   - أضف مرشدين سياحيين حقيقيين
   - أنشئ رحلات وتجارب متنوعة
   - شجع المستخدمين على التسجيل

2. **التسويق والترويج**:
   - أنشئ حسابات على وسائل التواصل الاجتماعي
   - ابدأ حملات إعلانية مستهدفة
   - تواصل مع المرشدين السياحيين المحليين

3. **التطوير المستمر**:
   - راقب تعليقات المستخدمين
   - أضف ميزات جديدة حسب الحاجة
   - حسن الأداء والأمان باستمرار

**نتمنى لك التوفيق في مشروعك!** 🚀

---

*تم إعداد هذا الدليل بواسطة Manus AI - للمساعدة والدعم، لا تتردد في التواصل معنا.*

